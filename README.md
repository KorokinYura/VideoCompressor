# VideoCompressor

Консольная программа на C# для сжатия видео до требуемого размера с конвертацией в `.mp4` через `ffmpeg`.

## Возможности

- Принимает входной видеофайл и целевой размер в MB.
- Автоматически рассчитывает видеобитрейт/аудиобитрейт для нужного размера.
- Использует двухпроходное кодирование (`2-pass`) через `libx264` для минимальной потери качества.
- Кодирует аудио в `AAC` и добавляет `faststart` для удобного стриминга.

## Требования

- .NET 8 SDK
- Установленный `ffmpeg` в `PATH`
- `ffprobe` — опционально (рекомендуется для более точного определения параметров)

## Запуск

```bash
dotnet run -- <inputVideo> <targetSizeMb> [outputMp4] [ffmpegPath] [ffprobePath]
```

Пример:

```bash
dotnet run -- input.mkv 25 output.mp4
```

Если `outputMp4` не указан, будет создан файл `<input>_compressed.mp4`.

> `ffprobe` не обязателен: если его нет, программа попробует извлечь длительность и аудиобитрейт через `ffmpeg -i`.
